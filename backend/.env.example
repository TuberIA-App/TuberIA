# ============================================
# TuberIA Backend - Environment Configuration
# ============================================
# Copy this file to .env and fill in your values
# NEVER commit .env files with real credentials!
# ============================================

# Server configuration
NODE_ENV=development
PORT=5000

# ============================================
# Database Configuration
# ============================================
# For Docker MongoDB with authentication (see docker-compose.yaml):
MONGODB_URI=mongodb://mongo:mongo@mongo:27017/tuberia_db?authSource=tuberia_db
# For local MongoDB without authentication:
# MONGODB_URI=mongodb://localhost:27017/tuberia

# Test database (used by test suite)
MONGODB_TEST_URI=mongodb://mongo:mongo@mongo:27017/tuberia-test?authSource=tuberia_db

# ============================================
# JWT Configuration
# ============================================
# SECURITY: Generate strong secrets using:
# node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your-super-secret-jwt-key-must-be-at-least-32-characters-long-please-change-this
JWT_REFRESH_SECRET=your-super-secret-refresh-key-must-be-at-least-32-characters-long-change-this-too
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d

# ============================================
# External APIs
# ============================================
# OpenRouter API key for AI summarization
# Get yours at: https://openrouter.ai/
OPENROUTER_API_KEY=your_api_key_here

# ============================================
# CORS & Frontend
# ============================================
# URL of the frontend application (for CORS in production)
FRONTEND_URL=http://localhost:5173

# ============================================
# Redis Configuration
# ============================================
# Hostname of Redis service (use 'redis' for Docker, 'localhost' for local)
REDIS_HOST=redis
# Port for Redis (default: 6379)
REDIS_PORT=6379
# Password (if set in production)
# REDIS_PASSWORD=

# ============================================
# Worker Configuration
# ============================================
WORKER_CONCURRENCY=2
RSS_POLL_INTERVAL=30

# ============================================
# Logging
# ============================================
# Options: error, warn, info, debug
LOG_LEVEL=info

# ============================================
# YouTube Proxy Configuration (Optional)
# ============================================
# Leave empty to disable proxy usage (will use rotative user agents only)
# Format: http://USERNAME:PASSWORD@IP:PORT or http://IP:PORT
# Example: http://myuser:mypass@123.456.789.012:8080
YOUTUBE_PROXY_URL=

# YouTube Transcription Retry Settings
# Number of retry attempts if transcription fails (default: 3)
YOUTUBE_TRANSCRIPT_MAX_RETRIES=3
# Delay between retries in milliseconds (default: 1000)
YOUTUBE_TRANSCRIPT_RETRY_DELAY=1000

# ============================================
# Observability (Optional)
# ============================================
# Sentry DSN for error tracking
# Get yours at: https://sentry.io/
# Leave empty to disable Sentry
SENTRY_DSN=
